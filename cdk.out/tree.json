{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.213.0"},"children":{"RobustCodesLandingPageStack":{"id":"RobustCodesLandingPageStack","path":"RobustCodesLandingPageStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.213.0"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"RobustCodesLandingPageStack/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"robustcodes-landing-235612442908-eu-central-1","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:cb212000","value":"true"}]}}},"Policy":{"id":"Policy","path":"RobustCodesLandingPageStack/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"Distribution830FAC52"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"RobustCodesLandingPageStack/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.213.0","metadata":[]},"children":{"Default":{"id":"Default","path":"RobustCodesLandingPageStack/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"RobustCodesLandingPageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.213.0"},"children":{"Staging":{"id":"Staging","path":"RobustCodesLandingPageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"Role":{"id":"Role","path":"RobustCodesLandingPageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Handler":{"id":"Handler","path":"RobustCodesLandingPageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"OAC":{"id":"OAC","path":"RobustCodesLandingPageStack/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":"OAC for RobustCodes website","name":"RobustCodesLandingPageStackOACA9439080","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"Distribution":{"id":"Distribution","path":"RobustCodesLandingPageStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.213.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"RobustCodesLandingPageStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"RobustCodesLandingPageStackDistributionOrigin18967707F","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"RobustCodesLandingPageStackDistributionOrigin18967707F","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"customErrorResponses":[{"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"ContactFunction":{"id":"ContactFunction","path":"RobustCodesLandingPageStack/ContactFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RobustCodesLandingPageStack/ContactFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RobustCodesLandingPageStack/ContactFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\nconst https = require('https');\n\nexports.handler = async (event) => {\n  const headers = {\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Headers': 'Content-Type',\n    'Access-Control-Allow-Methods': 'POST, OPTIONS',\n  };\n\n  if (event.httpMethod === 'OPTIONS') {\n    return {\n      statusCode: 200,\n      headers,\n      body: '',\n    };\n  }\n\n  try {\n    const body = JSON.parse(event.body);\n    const { name, email, message } = body;\n\n    if (!name || !email || !message) {\n      return {\n        statusCode: 400,\n        headers,\n        body: JSON.stringify({ error: 'Missing required fields' }),\n      };\n    }\n\n    // Prepare email data for your existing Lambda function\n    const emailData = {\n      subject: `New Contact Form Submission from ${name}`,\n      body: `\n        <h3>New Contact Form Submission</h3>\n        <p><strong>Name:</strong> ${name}</p>\n        <p><strong>Email:</strong> ${email}</p>\n        <p><strong>Message:</strong></p>\n        <p>${message.replace(/\\n/g, '<br>')}</p>\n      `,\n      isHtml: true\n    };\n\n    // Call your existing email Lambda function\n    const data = JSON.stringify(emailData);\n    const options = {\n      hostname: 'fntyvwolg2kdtv64ep4bwkasia0cgjwl.lambda-url.eu-central-1.on.aws',\n      path: '/',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Content-Length': data.length,\n        'x-api-key': process.env.X_API_KEY,\n        'x-domain': 'robustcodes.com'\n      }\n    };\n\n    const response = await new Promise((resolve, reject) => {\n      const req = https.request(options, (res) => {\n        let responseData = '';\n        res.on('data', (chunk) => {\n          responseData += chunk;\n        });\n        res.on('end', () => {\n          resolve({\n            statusCode: res.statusCode,\n            data: responseData\n          });\n        });\n      });\n\n      req.on('error', (error) => {\n        reject(error);\n      });\n\n      req.write(data);\n      req.end();\n    });\n\n    if (response.statusCode === 200) {\n      return {\n        statusCode: 200,\n        headers,\n        body: JSON.stringify({ message: 'Message sent successfully!' }),\n      };\n    } else {\n      throw new Error('Failed to send email');\n    }\n\n  } catch (error) {\n    console.error('Error:', error);\n    return {\n      statusCode: 500,\n      headers,\n      body: JSON.stringify({ error: 'Failed to send message' }),\n    };\n  }\n};\n      "},"environment":{"variables":{"X_API_KEY":"cb64d5fd-1924-4150-9e2c-cfef49fadd3e"}},"handler":"index.handler","role":{"Fn::GetAtt":["ContactFunctionServiceRoleACF19414","Arn"]},"runtime":"nodejs18.x"}}}}},"ContactApi":{"id":"ContactApi","path":"RobustCodesLandingPageStack/ContactApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for handling contact form submissions","name":"RobustCodes Contact API"}}},"Deployment":{"id":"Deployment","path":"RobustCodesLandingPageStack/ContactApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for handling contact form submissions","restApiId":{"Ref":"ContactApi2DD5FE99"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"RobustCodesLandingPageStack/ContactApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ContactApiDeployment8DA45B1Fe580ea83aa58605bf6761674ef4b9bd8"},"restApiId":{"Ref":"ContactApi2DD5FE99"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"RobustCodesLandingPageStack/ContactApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"Default":{"id":"Default","path":"RobustCodesLandingPageStack/ContactApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.213.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"RobustCodesLandingPageStack/ContactApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["ContactApi2DD5FE99","RootResourceId"]},"restApiId":{"Ref":"ContactApi2DD5FE99"}}}}}},"contact":{"id":"contact","path":"RobustCodesLandingPageStack/ContactApi/Default/contact","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ContactApi2DD5FE99","RootResourceId"]},"pathPart":"contact","restApiId":{"Ref":"ContactApi2DD5FE99"}}}},"OPTIONS":{"id":"OPTIONS","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ContactApicontactC8C71431"},"restApiId":{"Ref":"ContactApi2DD5FE99"}}}}}},"POST":{"id":"POST","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.RobustCodesLandingPageStackContactApi65C18531.POST..contact":{"id":"ApiPermission.RobustCodesLandingPageStackContactApi65C18531.POST..contact","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/POST/ApiPermission.RobustCodesLandingPageStackContactApi65C18531.POST..contact","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ContactFunction0F68BFE2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:235612442908:",{"Ref":"ContactApi2DD5FE99"},"/",{"Ref":"ContactApiDeploymentStageprodE4E2C75E"},"/POST/contact"]]}}}},"ApiPermission.Test.RobustCodesLandingPageStackContactApi65C18531.POST..contact":{"id":"ApiPermission.Test.RobustCodesLandingPageStackContactApi65C18531.POST..contact","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/POST/ApiPermission.Test.RobustCodesLandingPageStackContactApi65C18531.POST..contact","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ContactFunction0F68BFE2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:235612442908:",{"Ref":"ContactApi2DD5FE99"},"/test-invoke-stage/POST/contact"]]}}}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/ContactApi/Default/contact/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ContactFunction0F68BFE2","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ContactApicontactC8C71431"},"restApiId":{"Ref":"ContactApi2DD5FE99"}}}}}}}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"RobustCodesLandingPageStack/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.213.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"RobustCodesLandingPageStack/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RobustCodesLandingPageStack/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"RobustCodesLandingPageStack/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"RobustCodesLandingPageStack/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-235612442908-eu-central-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"RobustCodesLandingPageStack/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.213.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"RobustCodesLandingPageStack/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"RobustCodesLandingPageStack/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"RobustCodesLandingPageStack/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"RobustCodesLandingPageStack/DeployWebsite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.213.0","metadata":[]},"children":{"Default":{"id":"Default","path":"RobustCodesLandingPageStack/DeployWebsite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::cdk-hnb659fds-assets-235612442908-eu-central-1","arn:aws:s3:::cdk-hnb659fds-assets-235612442908-eu-central-1/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":["cloudfront:CreateInvalidation","cloudfront:GetInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RobustCodesLandingPageStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-235612442908-eu-central-1","s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}}}},"WebsiteURL":{"id":"WebsiteURL","path":"RobustCodesLandingPageStack/WebsiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"ApiEndpoint":{"id":"ApiEndpoint","path":"RobustCodesLandingPageStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"RobustCodesLandingPageStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"RobustCodesLandingPageStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RobustCodesLandingPageStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.213.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RobustCodesLandingPageStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.213.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}